<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>ozpIwc.network.KeyBroadcastLocalStorageLink - ozpIwc</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="ozpIwc" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: launch-in-webtop</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/ozpIwc.alert.html">ozpIwc.alert</a></li>
                                <li><a href="../classes/ozpIwc.api.html">ozpIwc.api</a></li>
                                <li><a href="../classes/ozpIwc.api.base.Api.html">ozpIwc.api.base.Api</a></li>
                                <li><a href="../classes/ozpIwc.api.base.Node.html">ozpIwc.api.base.Node</a></li>
                                <li><a href="../classes/ozpIwc.api.data.Api.html">ozpIwc.api.data.Api</a></li>
                                <li><a href="../classes/ozpIwc.api.data.node.Node.html">ozpIwc.api.data.node.Node</a></li>
                                <li><a href="../classes/ozpIwc.api.data.node.Nodev2.html">ozpIwc.api.data.node.Nodev2</a></li>
                                <li><a href="../classes/ozpIwc.api.Endpoint.html">ozpIwc.api.Endpoint</a></li>
                                <li><a href="../classes/ozpIwc.api.EndpointRegistry.html">ozpIwc.api.EndpointRegistry</a></li>
                                <li><a href="../classes/ozpIwc.api.error.BadActionError.html">ozpIwc.api.error.BadActionError</a></li>
                                <li><a href="../classes/ozpIwc.api.error.BadContentError.html">ozpIwc.api.error.BadContentError</a></li>
                                <li><a href="../classes/ozpIwc.api.error.BadRequestError.html">ozpIwc.api.error.BadRequestError</a></li>
                                <li><a href="../classes/ozpIwc.api.error.BadResourceError.html">ozpIwc.api.error.BadResourceError</a></li>
                                <li><a href="../classes/ozpIwc.api.error.BadStateError.html">ozpIwc.api.error.BadStateError</a></li>
                                <li><a href="../classes/ozpIwc.api.error.BaseError.html">ozpIwc.api.error.BaseError</a></li>
                                <li><a href="../classes/ozpIwc.api.error.NoActionError.html">ozpIwc.api.error.NoActionError</a></li>
                                <li><a href="../classes/ozpIwc.api.error.NoMatchError.html">ozpIwc.api.error.NoMatchError</a></li>
                                <li><a href="../classes/ozpIwc.api.error.NoPermissionError.html">ozpIwc.api.error.NoPermissionError</a></li>
                                <li><a href="../classes/ozpIwc.api.error.NoResourceError.html">ozpIwc.api.error.NoResourceError</a></li>
                                <li><a href="../classes/ozpIwc.api.filter.base.html">ozpIwc.api.filter.base</a></li>
                                <li><a href="../classes/ozpIwc.api.filter.Function.html">ozpIwc.api.filter.Function</a></li>
                                <li><a href="../classes/ozpIwc.api.filter.standard.html">ozpIwc.api.filter.standard</a></li>
                                <li><a href="../classes/ozpIwc.api.intents.Api.html">ozpIwc.api.intents.Api</a></li>
                                <li><a href="../classes/ozpIwc.api.intents.FSM.html">ozpIwc.api.intents.FSM</a></li>
                                <li><a href="../classes/ozpIwc.api.Lifespan.Bound.html">ozpIwc.api.Lifespan.Bound</a></li>
                                <li><a href="../classes/ozpIwc.api.Lifespan.Ephemeral.html">ozpIwc.api.Lifespan.Ephemeral</a></li>
                                <li><a href="../classes/ozpIwc.api.Lifespan.Persistent.html">ozpIwc.api.Lifespan.Persistent</a></li>
                                <li><a href="../classes/ozpIwc.api.locks.Api.html">ozpIwc.api.locks.Api</a></li>
                                <li><a href="../classes/ozpIwc.api.locks.Node.html">ozpIwc.api.locks.Node</a></li>
                                <li><a href="../classes/ozpIwc.api.names.Api.html">ozpIwc.api.names.Api</a></li>
                                <li><a href="../classes/ozpIwc.api.names.Node.html">ozpIwc.api.names.Node</a></li>
                                <li><a href="../classes/ozpIwc.api.system.Api.html">ozpIwc.api.system.Api</a></li>
                                <li><a href="../classes/ozpIwc.api.system.node.ApplicationNode.html">ozpIwc.api.system.node.ApplicationNode</a></li>
                                <li><a href="../classes/ozpIwc.api.system.node.ApplicationNodeV2.html">ozpIwc.api.system.node.ApplicationNodeV2</a></li>
                                <li><a href="../classes/ozpIwc.api.system.node.SystemNode.html">ozpIwc.api.system.node.SystemNode</a></li>
                                <li><a href="../classes/ozpIwc.api.system.node.UserNode.html">ozpIwc.api.system.node.UserNode</a></li>
                                <li><a href="../classes/ozpIwc.api.system.node.UserNodeV2.html">ozpIwc.api.system.node.UserNodeV2</a></li>
                                <li><a href="../classes/ozpIwc.apiMap.html">ozpIwc.apiMap</a></li>
                                <li><a href="../classes/ozpIwc.Client.html">ozpIwc.Client</a></li>
                                <li><a href="../classes/ozpIwc.Debugger.html">ozpIwc.Debugger</a></li>
                                <li><a href="../classes/ozpIwc.Lifespan.html">ozpIwc.Lifespan</a></li>
                                <li><a href="../classes/ozpIwc.log.html">ozpIwc.log</a></li>
                                <li><a href="../classes/ozpIwc.metric.Registry.html">ozpIwc.metric.Registry</a></li>
                                <li><a href="../classes/ozpIwc.metric.stats.BinaryHeap.html">ozpIwc.metric.stats.BinaryHeap</a></li>
                                <li><a href="../classes/ozpIwc.metric.stats.ExponentiallyDecayingSample.html">ozpIwc.metric.stats.ExponentiallyDecayingSample</a></li>
                                <li><a href="../classes/ozpIwc.metric.stats.Sample.html">ozpIwc.metric.stats.Sample</a></li>
                                <li><a href="../classes/ozpIwc.metric.stats.UniformSample.html">ozpIwc.metric.stats.UniformSample</a></li>
                                <li><a href="../classes/ozpIwc.metric.types.BaseMetric.html">ozpIwc.metric.types.BaseMetric</a></li>
                                <li><a href="../classes/ozpIwc.metric.types.Counter.html">ozpIwc.metric.types.Counter</a></li>
                                <li><a href="../classes/ozpIwc.metric.types.Gauge.html">ozpIwc.metric.types.Gauge</a></li>
                                <li><a href="../classes/ozpIwc.metric.types.Histogram.html">ozpIwc.metric.types.Histogram</a></li>
                                <li><a href="../classes/ozpIwc.metric.types.Meter.html">ozpIwc.metric.types.Meter</a></li>
                                <li><a href="../classes/ozpIwc.network.KeyBroadcastLocalStorageLink.html">ozpIwc.network.KeyBroadcastLocalStorageLink</a></li>
                                <li><a href="../classes/ozpIwc.network.Peer.html">ozpIwc.network.Peer</a></li>
                                <li><a href="../classes/ozpIwc.packet.Fragment.html">ozpIwc.packet.Fragment</a></li>
                                <li><a href="../classes/ozpIwc.packet.FragmentStore.html">ozpIwc.packet.FragmentStore</a></li>
                                <li><a href="../classes/ozpIwc.packet.Network.html">ozpIwc.packet.Network</a></li>
                                <li><a href="../classes/ozpIwc.packet.Transport.html">ozpIwc.packet.Transport</a></li>
                                <li><a href="../classes/ozpIwc.policyAuth.elements.SecurityAttribute.html">ozpIwc.policyAuth.elements.SecurityAttribute</a></li>
                                <li><a href="../classes/ozpIwc.policyAuth.points.PDP.html">ozpIwc.policyAuth.points.PDP</a></li>
                                <li><a href="../classes/ozpIwc.policyAuth.points.PIP.html">ozpIwc.policyAuth.points.PIP</a></li>
                                <li><a href="../classes/ozpIwc.policyAuth.points.PRP.html">ozpIwc.policyAuth.points.PRP</a></li>
                                <li><a href="../classes/ozpIwc.policyAuth.points.utils.html">ozpIwc.policyAuth.points.utils</a></li>
                                <li><a href="../classes/ozpIwc.policyAuth.policies.html">ozpIwc.policyAuth.policies</a></li>
                                <li><a href="../classes/ozpIwc.policyAuth.PolicyCombining.html">ozpIwc.policyAuth.PolicyCombining</a></li>
                                <li><a href="../classes/ozpIwc.Timer.html">ozpIwc.Timer</a></li>
                                <li><a href="../classes/ozpIwc.transport.consensus.Base.html">ozpIwc.transport.consensus.Base</a></li>
                                <li><a href="../classes/ozpIwc.transport.consensus.Bully.html">ozpIwc.transport.consensus.Bully</a></li>
                                <li><a href="../classes/ozpIwc.transport.listener.SharedWorker.html">ozpIwc.transport.listener.SharedWorker</a></li>
                                <li><a href="../classes/ozpIwc.transport.PacketContext.html">ozpIwc.transport.PacketContext</a></li>
                                <li><a href="../classes/ozpIwc.transport.participant.Base.html">ozpIwc.transport.participant.Base</a></li>
                                <li><a href="../classes/ozpIwc.transport.participant.Client.html">ozpIwc.transport.participant.Client</a></li>
                                <li><a href="../classes/ozpIwc.transport.participant.Debugger.html">ozpIwc.transport.participant.Debugger</a></li>
                                <li><a href="../classes/ozpIwc.transport.participant.Internal.html">ozpIwc.transport.participant.Internal</a></li>
                                <li><a href="../classes/ozpIwc.transport.participant.Multicast.html">ozpIwc.transport.participant.Multicast</a></li>
                                <li><a href="../classes/ozpIwc.transport.participant.MutexClient.html">ozpIwc.transport.participant.MutexClient</a></li>
                                <li><a href="../classes/ozpIwc.transport.participant.PostMessage.html">ozpIwc.transport.participant.PostMessage</a></li>
                                <li><a href="../classes/ozpIwc.transport.participant.RouterWatchdog.html">ozpIwc.transport.participant.RouterWatchdog</a></li>
                                <li><a href="../classes/ozpIwc.transport.participant.SharedWorker.html">ozpIwc.transport.participant.SharedWorker</a></li>
                                <li><a href="../classes/ozpIwc.transport.Router.html">ozpIwc.transport.Router</a></li>
                                <li><a href="../classes/ozpIwc.util.html">ozpIwc.util</a></li>
                                <li><a href="../classes/ozpIwc.util.AjaxPersistenceQueue.html">ozpIwc.util.AjaxPersistenceQueue</a></li>
                                <li><a href="../classes/ozpIwc.util.ApiPromiseMixin.html">ozpIwc.util.ApiPromiseMixin</a></li>
                                <li><a href="../classes/ozpIwc.util.AsyncAction.html">ozpIwc.util.AsyncAction</a></li>
                                <li><a href="../classes/ozpIwc.util.CancelableEvent.html">ozpIwc.util.CancelableEvent</a></li>
                                <li><a href="../classes/ozpIwc.util.Event.html">ozpIwc.util.Event</a></li>
                                <li><a href="../classes/ozpIwc.util.mutex.html">ozpIwc.util.mutex</a></li>
                                <li><a href="../classes/ozpIwc.util.object.html">ozpIwc.util.object</a></li>
                                <li><a href="../classes/ozpIwc.util.PacketRouter.html">ozpIwc.util.PacketRouter</a></li>
                                <li><a href="../classes/ozpIwc.util.Reference.html">ozpIwc.util.Reference</a></li>
                                <li><a href="../classes/ozpIwc.wiring.html">ozpIwc.wiring</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/ozpIwc.html">ozpIwc</a></li>
                                <li><a href="../modules/ozpIwc.api.html">ozpIwc.api</a></li>
                                <li><a href="../modules/ozpIwc.api.base.html">ozpIwc.api.base</a></li>
                                <li><a href="../modules/ozpIwc.api.data.html">ozpIwc.api.data</a></li>
                                <li><a href="../modules/ozpIwc.api.data.node.html">ozpIwc.api.data.node</a></li>
                                <li><a href="../modules/ozpIwc.api.error.html">ozpIwc.api.error</a></li>
                                <li><a href="../modules/ozpIwc.api.filter.html">ozpIwc.api.filter</a></li>
                                <li><a href="../modules/ozpIwc.api.intents.html">ozpIwc.api.intents</a></li>
                                <li><a href="../modules/ozpIwc.api.intents.node.html">ozpIwc.api.intents.node</a></li>
                                <li><a href="../modules/ozpIwc.api.locks.html">ozpIwc.api.locks</a></li>
                                <li><a href="../modules/ozpIwc.api.names.html">ozpIwc.api.names</a></li>
                                <li><a href="../modules/ozpIwc.api.system.html">ozpIwc.api.system</a></li>
                                <li><a href="../modules/ozpIwc.api.system.node.html">ozpIwc.api.system.node</a></li>
                                <li><a href="../modules/ozpIwc.metric.html">ozpIwc.metric</a></li>
                                <li><a href="../modules/ozpIwc.metric.stats.html">ozpIwc.metric.stats</a></li>
                                <li><a href="../modules/ozpIwc.metric.types.html">ozpIwc.metric.types</a></li>
                                <li><a href="../modules/ozpIwc.network.html">ozpIwc.network</a></li>
                                <li><a href="../modules/ozpIwc.packet.html">ozpIwc.packet</a></li>
                                <li><a href="../modules/ozpIwc.policyAuth.html">ozpIwc.policyAuth</a></li>
                                <li><a href="../modules/ozpIwc.policyAuth.elements.html">ozpIwc.policyAuth.elements</a></li>
                                <li><a href="../modules/ozpIwc.policyAuth.points.html">ozpIwc.policyAuth.points</a></li>
                                <li><a href="../modules/ozpIwc.transport.html">ozpIwc.transport</a></li>
                                <li><a href="../modules/ozpIwc.transport.consensus.html">ozpIwc.transport.consensus</a></li>
                                <li><a href="../modules/ozpIwc.transport.listener.html">ozpIwc.transport.listener</a></li>
                                <li><a href="../modules/ozpIwc.transport.participant.html">ozpIwc.transport.participant</a></li>
                                <li><a href="../modules/ozpIwc.util.html">ozpIwc.util</a></li>
                                <li><a href="../modules/ozpIwc.worker.html">ozpIwc.worker</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1>ozpIwc.network.KeyBroadcastLocalStorageLink Class</h1>
<div class="box meta">


        <div class="foundat">
            Defined in: <a href="../files/src_js_bus_network_keyBroadcastLocalStorageLink.js.html#l10"><code>src\js\bus\network\keyBroadcastLocalStorageLink.js:10</code></a>
        </div>

            Module: <a href="../modules/ozpIwc.network.html">ozpIwc.network</a><br>
            Parent Module: <a href="../modules/ozpIwc.html">ozpIwc</a>

</div>


<div class="box intro">
    <p>This link connects peers using the HTML5 localstorage API.  It is a second generation version of
the localStorageLink that bypasses most of the garbage collection issues.
<p> When a packet is sent, this link turns it to a string, creates a key with that value, and
immediately deletes it.  This still sends the storage event containing the packet as the key.
This completely eliminates the need to garbage collect the localstorage space, with the associated
mutex contention and full-buffer issues.
</div>

    <div class="constructor">
        <h2>Constructor</h2>
<div id="method_ozpIwc.network.KeyBroadcastLocalStorageLink" class="method item">
    <h3 class="name"><code>ozpIwc.network.KeyBroadcastLocalStorageLink</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code class="optional">[config]</code>
                </li>
            </ul><span class="paren">)</span>
        </div>








    <div class="meta">
                <p>
                Defined in
        <a href="../files/src_js_bus_network_keyBroadcastLocalStorageLink.js.html#l10"><code>src\js\bus\network\keyBroadcastLocalStorageLink.js:10</code></a>
        </p>



    </div>

    <div class="description">
        
    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name optional">[config]</code>
                        <span class="type">Object</span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>


                    <div class="param-description">
                        <p>Configuration for this link</p>

                    </div>

                        <ul class="params-list">
                            <li class="param">
                                    <code class="param-name optional">[peer=ozpIwc.defaultPeer]</code>
                                    <span class="type"><a href="../classes/ozpIwc.network.Peer.html" class="crosslink">ozpIwc.network.Peer</a></span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>

                                <div class="param-description">
                                    <p>The peer to connect to.</p>

                                </div>

                            </li>
                            <li class="param">
                                    <code class="param-name optional">[metrics]</code>
                                    <span class="type"><a href="../classes/ozpIwc.metric.Registry.html" class="crosslink">ozpIwc.metric.Registry</a></span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>

                                <div class="param-description">
                                    <p>The metric registry to put this modules metrics in. If no
registry metrics not taken</p>

                                </div>

                            </li>
                            <li class="param">
                                    <code class="param-name optional">[prefix=&#x27;ozpIwc&#x27;]</code>
                                    <span class="type">String</span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>

                                <div class="param-description">
                                    <p>Namespace for communicating, must be the same for all peers on the same
network.</p>

                                </div>

                            </li>
                            <li class="param">
                                    <code class="param-name optional">[selfId]</code>
                                    <span class="type">String</span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>

                                <div class="param-description">
                                    <p>Unique name within the peer network.  Defaults to the peer id.</p>

                                </div>

                            </li>
                            <li class="param">
                                    <code class="param-name optional">[maxRetries]</code>
                                    <span class="type">Number</span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>

                                <div class="param-description">
                                    <p>Number of times packet transmission will retry if failed. Defaults to 6.</p>

                                </div>

                            </li>
                            <li class="param">
                                    <code class="param-name optional">[queueSize]</code>
                                    <span class="type">Number</span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>

                                <div class="param-description">
                                    <p>Number of packets allowed to be queued at one time. Defaults to 1024.</p>

                                </div>

                            </li>
                            <li class="param">
                                    <code class="param-name optional">[fragmentSize]</code>
                                    <span class="type">Number</span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>

                                <div class="param-description">
                                    <p>Size in bytes of which any TransportPacket exceeds will be sent in
FragmentPackets.</p>

                                </div>

                            </li>
                            <li class="param">
                                    <code class="param-name optional">[fragmentTime]</code>
                                    <span class="type">Number</span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>

                                <div class="param-description">
                                    <p>Time in milliseconds after a fragment is received and additional expected
fragments are not received that the message is dropped.</p>

                                </div>

                            </li>
                        </ul>
                </li>
            </ul>
        </div>



</div>
    </div>

<div id="classdocs" class="tabview">
    <ul class="api-class-tabs">
        <li class="api-class-tab index"><a href="#index">Index</a></li>

            <li class="api-class-tab methods"><a href="#methods">Methods</a></li>
            <li class="api-class-tab properties"><a href="#properties">Properties</a></li>
    </ul>

    <div>
        <div id="index" class="api-class-tabpanel index">
            <h2 class="off-left">Item Index</h2>

                <div class="index-section methods">
                    <h3>Methods</h3>

                    <ul class="index-list methods">
                            <li class="index-item method private">
                                <a href="#method_attemptSend">attemptSend</a>

                                    <span class="flag static">static</span>
                            </li>
                            <li class="index-item method private">
                                <a href="#method_defragmentPacket">defragmentPacket</a>

                                    <span class="flag static">static</span>
                            </li>
                            <li class="index-item method private">
                                <a href="#method_forwardToPeer">forwardToPeer</a>

                                    <span class="flag static">static</span>
                            </li>
                            <li class="index-item method">
                                <a href="#method_handleFragment">handleFragment</a>

                            </li>
                            <li class="index-item method private">
                                <a href="#method_queueSend">queueSend</a>

                                    <span class="flag static">static</span>
                            </li>
                            <li class="index-item method">
                                <a href="#method_send">send</a>

                            </li>
                            <li class="index-item method">
                                <a href="#method_sendImpl">sendImpl</a>

                            </li>
                            <li class="index-item method private">
                                <a href="#method_storeFragment">storeFragment</a>

                                    <span class="flag static">static</span>
                            </li>
                    </ul>
                </div>

                <div class="index-section properties">
                    <h3>Properties</h3>

                    <ul class="index-list properties">
                            <li class="index-item property">
                                <a href="#property_fragmentSize">fragmentSize</a>

                            </li>
                            <li class="index-item property">
                                <a href="#property_fragmentTimeout">fragmentTimeout</a>

                            </li>
                            <li class="index-item property">
                                <a href="#property_maxRetries">maxRetries</a>

                            </li>
                            <li class="index-item property">
                                <a href="#property_metrics">metrics</a>

                            </li>
                            <li class="index-item property">
                                <a href="#property_myKeysTimeout">myKeysTimeout</a>

                            </li>
                            <li class="index-item property">
                                <a href="#property_otherKeysTimeout">otherKeysTimeout</a>

                            </li>
                            <li class="index-item property">
                                <a href="#property_peer">peer</a>

                            </li>
                            <li class="index-item property">
                                <a href="#property_prefix">prefix</a>

                            </li>
                            <li class="index-item property">
                                <a href="#property_queueSize">queueSize</a>

                            </li>
                            <li class="index-item property">
                                <a href="#property_selfId">selfId</a>

                            </li>
                            <li class="index-item property">
                                <a href="#property_sendQueue">sendQueue</a>

                            </li>
                    </ul>
                </div>


        </div>

            <div id="methods" class="api-class-tabpanel">
                <h2 class="off-left">Methods</h2>

<div id="method_attemptSend" class="method item private">
    <h3 class="name"><code>attemptSend</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code>link</code>
                </li>
                <li class="arg">
                        <code>packet</code>
                </li>
                <li class="arg">
                        <code class="optional">[attemptCount]</code>
                </li>
            </ul><span class="paren">)</span>
        </div>



        <span class="flag private">private</span>


        <span class="flag static">static</span>



    <div class="meta">
                <p>
                Defined in
        <a href="../files/src_js_bus_network_keyBroadcastLocalStorageLink.js.html#l358"><code>src\js\bus\network\keyBroadcastLocalStorageLink.js:358</code></a>
        </p>



    </div>

    <div class="description">
        <p>Recursively tries sending the packet
ozpIwc.KeyBroadcastLocalStorageLink/maxRetries:property times.
The packet is dropped and the send fails after reaching max attempts.</p>

    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name">link</code>
                        <span class="type"><a href="../classes/ozpIwc.network.KeyBroadcastLocalStorageLink.html" class="crosslink">ozpIwc.network.KeyBroadcastLocalStorageLink</a></span>


                    <div class="param-description">
                         
                    </div>

                </li>
                <li class="param">
                        <code class="param-name">packet</code>
                        <span class="type"><a href="../classes/ozpIwc.packet.Network.html" class="crosslink">ozpIwc.packet.Network</a></span>


                    <div class="param-description">
                         
                    </div>

                </li>
                <li class="param">
                        <code class="param-name optional">[attemptCount]</code>
                        <span class="type">Number</span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>


                    <div class="param-description">
                        <p>number of times attempted to send packet.</p>

                    </div>

                </li>
            </ul>
        </div>



</div>
<div id="method_defragmentPacket" class="method item private">
    <h3 class="name"><code>defragmentPacket</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code>fragments</code>
                </li>
            </ul><span class="paren">)</span>
        </div>

        <span class="returns-inline">
            <span class="type"><a href="../classes/ozpIwc.packet.Network.html" class="crosslink">ozpIwc.packet.Network</a></span>
        </span>


        <span class="flag private">private</span>


        <span class="flag static">static</span>



    <div class="meta">
                <p>
                Defined in
        <a href="../files/src_js_bus_network_keyBroadcastLocalStorageLink.js.html#l305"><code>src\js\bus\network\keyBroadcastLocalStorageLink.js:305</code></a>
        </p>



    </div>

    <div class="description">
        <p>Rebuilds the original packet sent across the keyBroadcastLocalStorageLink from the fragments it was broken up
into.</p>

    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name">fragments</code>
                        <span class="type"><a href="../classes/ozpIwc.packet.FragmentStore.html" class="crosslink">ozpIwc.packet.FragmentStore</a></span>


                    <div class="param-description">
                        <p>the grouping of fragments to reconstruct</p>

                    </div>

                </li>
            </ul>
        </div>

        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                        <span class="type"><a href="../classes/ozpIwc.packet.Network.html" class="crosslink">ozpIwc.packet.Network</a></span>:
                    <p>result the reconstructed NetworkPacket with TransportPacket as its data
property.</p>

            </div>
        </div>


</div>
<div id="method_forwardToPeer" class="method item private">
    <h3 class="name"><code>forwardToPeer</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code>link</code>
                </li>
                <li class="arg">
                        <code>packet</code>
                </li>
            </ul><span class="paren">)</span>
        </div>



        <span class="flag private">private</span>


        <span class="flag static">static</span>



    <div class="meta">
                <p>
                Defined in
        <a href="../files/src_js_bus_network_keyBroadcastLocalStorageLink.js.html#l214"><code>src\js\bus\network\keyBroadcastLocalStorageLink.js:214</code></a>
        </p>



    </div>

    <div class="description">
        <p>Passes the received packet to the local Peer component.</p>

    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name">link</code>
                        <span class="type"><a href="../classes/ozpIwc.network.KeyBroadcastLocalStorageLink.html" class="crosslink">ozpIwc.network.KeyBroadcastLocalStorageLink</a></span>


                    <div class="param-description">
                         
                    </div>

                </li>
                <li class="param">
                        <code class="param-name">packet</code>
                        <span class="type"><a href="../classes/ozpIwc.packet.Transport.html" class="crosslink">ozpIwc.packet.Transport</a></span>


                    <div class="param-description">
                         
                    </div>

                </li>
            </ul>
        </div>



</div>
<div id="method_handleFragment" class="method item">
    <h3 class="name"><code>handleFragment</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code>packet</code>
                </li>
            </ul><span class="paren">)</span>
        </div>








    <div class="meta">
                <p>
                Defined in
        <a href="../files/src_js_bus_network_keyBroadcastLocalStorageLink.js.html#l397"><code>src\js\bus\network\keyBroadcastLocalStorageLink.js:397</code></a>
        </p>



    </div>

    <div class="description">
        <p>Handles fragmented packets received from the router. When all fragments of a message have been received,
the resulting packet will be passed on to the
ozpIwc.KeyBroadcastLocalStorageLink/peer:property.</p>

    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name">packet</code>
                        <span class="type"><a href="../classes/ozpIwc.packet.Network.html" class="crosslink">ozpIwc.packet.Network</a></span>


                    <div class="param-description">
                        <p>NetworkPacket containing an ozpIwc.FragmentPacket as its data property</p>

                    </div>

                </li>
            </ul>
        </div>



</div>
<div id="method_queueSend" class="method item private">
    <h3 class="name"><code>queueSend</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code>link</code>
                </li>
                <li class="arg">
                        <code>packet</code>
                </li>
            </ul><span class="paren">)</span>
        </div>



        <span class="flag private">private</span>


        <span class="flag static">static</span>



    <div class="meta">
                <p>
                Defined in
        <a href="../files/src_js_bus_network_keyBroadcastLocalStorageLink.js.html#l333"><code>src\js\bus\network\keyBroadcastLocalStorageLink.js:333</code></a>
        </p>



    </div>

    <div class="description">
        <p>Places a packet in the ozpIwc.KeyBroadcastLocalStorageLink/sendQueue:property
if it does not already hold ozpIwc.KeyBroadcastLocalStorageLink/queueSize:property
amount of packets.</p>

    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name">link</code>
                        <span class="type"><a href="../classes/ozpIwc.network.KeyBroadcastLocalStorageLink.html" class="crosslink">ozpIwc.network.KeyBroadcastLocalStorageLink</a></span>


                    <div class="param-description">
                         
                    </div>

                </li>
                <li class="param">
                        <code class="param-name">packet</code>
                        <span class="type"><a href="../classes/ozpIwc.packet.Transport.html" class="crosslink">ozpIwc.packet.Transport</a></span>


                    <div class="param-description">
                         
                    </div>

                </li>
            </ul>
        </div>



</div>
<div id="method_send" class="method item">
    <h3 class="name"><code>send</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code>packet</code>
                </li>
            </ul><span class="paren">)</span>
        </div>








    <div class="meta">
                <p>
                Defined in
        <a href="../files/src_js_bus_network_keyBroadcastLocalStorageLink.js.html#l432"><code>src\js\bus\network\keyBroadcastLocalStorageLink.js:432</code></a>
        </p>



    </div>

    <div class="description">
        <p>Publishes a packet to other peers. If the sendQueue is full the send will not occur. If the TransportPacket is
larger than the ozpIwc.KeyBroadcastLocalStorageLink/fragmentSize:property, an
ozpIwc.FragmentPacket will be sent instead.</p>

    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name">packet</code>
                        <span class="type"><a href="../classes/ozpIwc.packet.Network.html" class="crosslink">ozpIwc.packet.Network</a></span>


                    <div class="param-description">
                         
                    </div>

                </li>
            </ul>
        </div>



</div>
<div id="method_sendImpl" class="method item">
    <h3 class="name"><code>sendImpl</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code>packet</code>
                </li>
            </ul><span class="paren">)</span>
        </div>








    <div class="meta">
                <p>
                Defined in
        <a href="../files/src_js_bus_network_keyBroadcastLocalStorageLink.js.html#l484"><code>src\js\bus\network\keyBroadcastLocalStorageLink.js:484</code></a>
        </p>



    </div>

    <div class="description">
        <p>Implementation of publishing packets to peers through localStorage. If the localStorage is full or a write
collision occurs, the send will not occur. Returns status of localStorage write, null if success.</p>

    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name">packet</code>
                        <span class="type"><a href="../classes/ozpIwc.packet.Network.html" class="crosslink">ozpIwc.packet.Network</a></span>


                    <div class="param-description">
                         
                    </div>

                </li>
            </ul>
        </div>



</div>
<div id="method_storeFragment" class="method item private">
    <h3 class="name"><code>storeFragment</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code>link</code>
                </li>
                <li class="arg">
                        <code>packet</code>
                </li>
            </ul><span class="paren">)</span>
        </div>

        <span class="returns-inline">
            <span class="type">Boolean</span>
        </span>


        <span class="flag private">private</span>


        <span class="flag static">static</span>



    <div class="meta">
                <p>
                Defined in
        <a href="../files/src_js_bus_network_keyBroadcastLocalStorageLink.js.html#l234"><code>src\js\bus\network\keyBroadcastLocalStorageLink.js:234</code></a>
        </p>



    </div>

    <div class="description">
        <p>Stores a received fragment. When the first fragment of a message is received, a timer is set to destroy the
storage of the message fragments should not all messages be received.</p>

    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name">link</code>
                        <span class="type"><a href="../classes/ozpIwc.network.KeyBroadcastLocalStorageLink.html" class="crosslink">ozpIwc.network.KeyBroadcastLocalStorageLink</a></span>


                    <div class="param-description">
                         
                    </div>

                </li>
                <li class="param">
                        <code class="param-name">packet</code>
                        <span class="type"><a href="../classes/ozpIwc.packet.Network.html" class="crosslink">ozpIwc.packet.Network</a></span>


                    <div class="param-description">
                        <p>NetworkPacket containing an ozpIwc.FragmentPacket as its data property</p>

                    </div>

                </li>
            </ul>
        </div>

        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                        <span class="type">Boolean</span>:
                    <p>result true if successful.</p>

            </div>
        </div>


</div>
            </div>

            <div id="properties" class="api-class-tabpanel">
                <h2 class="off-left">Properties</h2>

<div id="property_fragmentSize" class="property item">
    <h3 class="name"><code>fragmentSize</code></h3>
    <span class="type">Number</span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/src_js_bus_network_keyBroadcastLocalStorageLink.js.html#l140"><code>src\js\bus\network\keyBroadcastLocalStorageLink.js:140</code></a>
        </p>


    </div>

    <div class="description">
        <p>Minimum size in bytes that a packet will broken into fragments.</p>

    </div>

        <p><strong>Default:</strong> 1310720</p>


</div>
<div id="property_fragmentTimeout" class="property item">
    <h3 class="name"><code>fragmentTimeout</code></h3>
    <span class="type">Number</span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/src_js_bus_network_keyBroadcastLocalStorageLink.js.html#l149"><code>src\js\bus\network\keyBroadcastLocalStorageLink.js:149</code></a>
        </p>


    </div>

    <div class="description">
        <p>The amount of time allotted to the Link to wait between expected fragment packets. If an expected fragment
is not received within this timeout the packet is dropped.</p>

    </div>

        <p><strong>Default:</strong> 1000</p>


</div>
<div id="property_maxRetries" class="property item">
    <h3 class="name"><code>maxRetries</code></h3>
    <span class="type">Number</span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/src_js_bus_network_keyBroadcastLocalStorageLink.js.html#l108"><code>src\js\bus\network\keyBroadcastLocalStorageLink.js:108</code></a>
        </p>


    </div>

    <div class="description">
        <p>The maximum number of retries the link will take to send a package. A timeout of
max(1, 2^( <retry count> -1) - 1) milliseconds occurs between send attempts.</p>

    </div>

        <p><strong>Default:</strong> 6</p>


</div>
<div id="property_metrics" class="property item">
    <h3 class="name"><code>metrics</code></h3>
    <span class="type"><a href="../classes/ozpIwc.metric.Registry.html" class="crosslink">ozpIwc.metric.Registry</a></span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/src_js_bus_network_keyBroadcastLocalStorageLink.js.html#l69"><code>src\js\bus\network\keyBroadcastLocalStorageLink.js:69</code></a>
        </p>


    </div>

    <div class="description">
        <p>Metric registry to store metrics on this link.</p>

    </div>



</div>
<div id="property_myKeysTimeout" class="property item">
    <h3 class="name"><code>myKeysTimeout</code></h3>
    <span class="type">Number</span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/src_js_bus_network_keyBroadcastLocalStorageLink.js.html#l89"><code>src\js\bus\network\keyBroadcastLocalStorageLink.js:89</code></a>
        </p>


    </div>

    <div class="description">
        <p>Milliseconds to wait before deleting this link's keys</p>

    </div>

        <p><strong>Default:</strong> 5000</p>


</div>
<div id="property_otherKeysTimeout" class="property item">
    <h3 class="name"><code>otherKeysTimeout</code></h3>
    <span class="type">Number</span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/src_js_bus_network_keyBroadcastLocalStorageLink.js.html#l98"><code>src\js\bus\network\keyBroadcastLocalStorageLink.js:98</code></a>
        </p>


    </div>

    <div class="description">
        <p>Milliseconds to wait before deleting other link's keys</p>

    </div>

        <p><strong>Default:</strong> 120000</p>


</div>
<div id="property_peer" class="property item">
    <h3 class="name"><code>peer</code></h3>
    <span class="type"><a href="../classes/ozpIwc.network.Peer.html" class="crosslink">ozpIwc.network.Peer</a></span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/src_js_bus_network_keyBroadcastLocalStorageLink.js.html#l53"><code>src\js\bus\network\keyBroadcastLocalStorageLink.js:53</code></a>
        </p>


    </div>

    <div class="description">
        <p>The peer this link will connect to.</p>

    </div>



</div>
<div id="property_prefix" class="property item">
    <h3 class="name"><code>prefix</code></h3>
    <span class="type">String</span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/src_js_bus_network_keyBroadcastLocalStorageLink.js.html#l45"><code>src\js\bus\network\keyBroadcastLocalStorageLink.js:45</code></a>
        </p>


    </div>

    <div class="description">
        <p>Namespace for communicating, must be the same for all peers on the same network.</p>

    </div>

        <p><strong>Default:</strong> &quot;ozpIwc&quot;</p>


</div>
<div id="property_queueSize" class="property item">
    <h3 class="name"><code>queueSize</code></h3>
    <span class="type">Number</span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/src_js_bus_network_keyBroadcastLocalStorageLink.js.html#l117"><code>src\js\bus\network\keyBroadcastLocalStorageLink.js:117</code></a>
        </p>


    </div>

    <div class="description">
        <p>Maximum number of packets that can be in the send queue at any given time.</p>

    </div>

        <p><strong>Default:</strong> 1024</p>


</div>
<div id="property_selfId" class="property item">
    <h3 class="name"><code>selfId</code></h3>
    <span class="type">String</span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/src_js_bus_network_keyBroadcastLocalStorageLink.js.html#l60"><code>src\js\bus\network\keyBroadcastLocalStorageLink.js:60</code></a>
        </p>


    </div>

    <div class="description">
        <p>Unique name within the peer network.  Defaults to the peer id.</p>

    </div>

        <p><strong>Default:</strong> ozpIwc.network.Peer.selfId</p>


</div>
<div id="property_sendQueue" class="property item">
    <h3 class="name"><code>sendQueue</code></h3>
    <span class="type">Array</span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/src_js_bus_network_keyBroadcastLocalStorageLink.js.html#l125"><code>src\js\bus\network\keyBroadcastLocalStorageLink.js:125</code></a>
        </p>


    </div>

    <div class="description">
        <p>A queue for outgoing packets. If this queue is full further packets will not be added.</p>

    </div>

        <p><strong>Default:</strong> []</p>


</div>
            </div>


    </div>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
